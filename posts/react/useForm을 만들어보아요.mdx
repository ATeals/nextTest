---
title: "useFormì„ ë§Œë“¤ì–´ë³´ì•„ìš”! "
description: ì»¤ìŠ¤í…€ í›…ì„ ë§Œë“¤ê²Œ ëœ ê±´ì— ëŒ€í•˜ì—¬
date: 2023-06-25
collection: react
tags: ["React", "Hooks", "ì»¤ìŠ¤í…€ í›…"]
img: "https://reactjs-kr.firebaseapp.com/logo-og.png"
---

# useFormì„ ë§Œë“¤ì–´ë³´ì•„ìš”!

![](https://upload.wikimedia.org/wikipedia/ko/4/4a/%EC%8B%A0%EC%A7%B1%EA%B5%AC.png)

Reactì—ì„œ ì‚½ì§ˆì„ í•˜ë‹¤ê°€ Formì„ ë§Œë“¤ë©´ì„œ ê°‘ìê¸° ë“  ìƒê°ì´ì—ˆë‹¤.

ì™œ inputì— onchangeë¥¼ ì‚¬ìš©í•´ì„œ input ê°’ì„ ê°€ì ¸ì˜¬ê¹Œ? ê·¸ëƒ¥ submitì—ìˆëŠ” event ì•ˆì— ìˆëŠ” targetì˜ ê°’ì„ ê°€ì ¸ì˜¤ë©´ ë˜ì§€ ì•Šë‚˜?

ê·¸ë˜ì„œ í•œë²ˆ ì»¤ìŠ¤í…€ í›…ì„ ë§Œë“¤ì–´ ë³´ì•˜ë‹¤â€¦ _íƒ€ìŠ¤ë¥¼ ì œëŒ€ë¡œ ì•Œì§€ ëª»í•œì±„ë¡œ ì‘ì„±í•´ì„œ ì½”ë“œê°€ ë§›ì´ì—†ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤â€¦._

ì¼ë‹¨ ì „ì²´ ì½”ë“œë¥¼ ë³´ì

# ì „ì²´ì½”ë“œ

```tsx
export function useForm<T>(initialValues: T): [T, FormEventHandler<HTMLFormElement>] {
    const [data, setData] = useState<T>(initialValues);
    const onSubmit: React.FormEventHandler<HTMLFormElement> = (e) => {
        e.preventDefault();

        const inputs = [...e.currentTarget];
        const obj: T = inputs.reduce((acc: T, crr: Element) => {
            const { name, value } = crr as HTMLInputElement;
            return { ...acc, [name]: value };
        }, {} as T);

        setData(obj);
    };

    return [data, onSubmit];
}
```

ì´ê²Œ ë‚´ useForm í›…ì˜ ì „ë¶€ì´ë‹¤.

ë‚´ useFormì€ ì²«ë²ˆì§¸ ì¸ìë¡œ inputì˜ nameì„ ê°€ì§„ objectë¥¼ ë°›ëŠ”ë‹¤. ê·¸ í›„ ë°°ì—´ì„ ë°˜í™˜í•˜ëŠ”ë° ë°°ì—´ì˜ ì²«ë²ˆì§¸ ê°’ì€ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” object(ì´ë•Œ íƒ€ì…ì€ useFormì˜ ì²«ë²ˆì§¸ ì¸ìì™€ ë™ì¼í•˜ë‹¤.) ë‘ë²ˆì§¸ëŠ” formì— ë¶™ì—¬ì¤„ onSubmit í•¸ë“¤ëŸ¬ì´ë‹¤.

ì˜ˆì‹œ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

# ì‚¬ìš© ì˜ˆì‹œ

```tsx
function App() {
    const [data, onSubmit] = useForm<Info>({ name: "", age: "", location: "" });
    return (
        <>
            <form
                className="form"
                onSubmit={onSubmit}
            >
                <input
                    name="location"
                    type="text"
                    placeholder="location"
                />

                <input
                    name="name"
                    type="text"
                    placeholder="name"
                />
                <input
                    name="age"
                    type="number"
                    placeholder="age"
                />
                <input type="submit" />
            </form>

            <div>
                <p>Name : {data.name}</p>
                <p>age : {data.age}</p>
                <p>location : {data.location}</p>
            </div>
        </>
    );
}

export default App;
```

ë³´ë©´ initialValues ì•ˆì— ë“¤ì–´ê°„ objectì˜ í”„ë¡œí¼í‹° ì´ë¦„ê³¼ inputì˜ name ì´ë¦„ì´ ë™ì¼í•œ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

ì´ë ‡ê²Œ í•´ì„œ submit ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ inputì˜ nameê³¼ initialValuesì˜ í”„ë¡œí¼í‹° ê°’ì„ í™•ì¸í•´ì„œ ê°’ì„ ë„£ì–´ì¤€ë‹¤.

ê·¸ê²ƒì´ ë‚´ í›…ì˜ ë™ì‘ ë°©ë²•ì´ ë˜ëŠ” ê²ƒì´ë‹¤. ê·¸ëŸ¼ ì´ì œ ì½”ë“œë¥¼ í•˜ë‚˜ì”© ëœ¯ì–´ë³´ë„ë¡ í•˜ì

```jsx
const [data, setData] = useState < T > initialValues;
```

ë°ì´í„°ë¥¼ ì €ì¥í•  useState! ì´ ì¹œêµ¬ê°€ ìˆê¸° ë•Œë¬¸ì— dataê°’ì´ formì„ í†µí•´ì„œ ë°”ë€Œë©´ ìš°ë¦¬ì˜ uië„ ë°”ë€” ê²ƒì´ë‹¤.

ë‹¤ìŒìœ¼ë¡œ onSubmit í•¸ë“¤ëŸ¬ë¥¼ ë³´ì

```tsx
const onSubmit: React.FormEventHandler<HTMLFormElement> = (e) => {
    e.preventDefault();

    const inputs = [...e.currentTarget];
    const obj: T = inputs.reduce((acc: T, crr: Element) => {
        const { name, value } = crr as HTMLInputElement;
        return { ...acc, [name]: value };
    }, {} as T);

    setData(obj);
};
```

ì¼ë‹¨ submitì´ë²¤íŠ¸ì˜ ê¸°ë³¸ë™ì‘ì¸ ì›¹í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ì„ ë§‰ì•„ì£¼ì! **_e.preventDefault();_**

ë‹¤ìŒìœ¼ë¡œ inputë“¤ì˜ domì„ ë°°ì—´ë¡œ ë§Œë“¤ì–´ ì£¼ì—ˆë‹¤.

```jsx
const inputs = [...e.currentTarget];
```

<aside className="shadowBottom my-10 py-[20px] px-[10px] dark:bg-[#1E1E1E] bg-[#efefef] rounded-[10px]">
ğŸ“Œ event.target vs event.currentTarget

ì²˜ìŒì— jsë¡œ ë§Œë“¤ì—ˆì„ ë•ŒëŠ” event.targetìœ¼ë¡œ ì‘ì„±í•˜ê³  ì˜ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸ í–ˆë‹¤. í•˜ì§€ë§Œâ€¦. tsë¡œ ë„˜ì–´ì™€ì„œ ì‘ì—…ì„ í•˜ë©´ì„œ íƒ€ì…ì„ ë„£ì–´ì£¼ë‹ˆê¹Œ ì•ˆë˜ê¸¸ë˜ ì‚½ì§ˆëì— ì°¾ì•„ë³´ë‹ˆ currentTargetì„ ì‚¬ìš©í•´ì•¼ ì½”ë“œê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í–ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ ë‘˜ì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¸ê°€?
event.targetì€ ì´ë²¤íŠ¸ë¥¼ íŠ¸ë¦¬ê±°í•œ ìš”ì†Œë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. event.currentTargetëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì—°ê²°ëœ ìš”ì†Œë¥¼ ë§í•œë‹¤.. ë‚´ submitì´ë²¤íŠ¸ëŠ” formì— ì—°ê²°ë˜ì–´ ìˆìœ¼ë‹ˆê¹Œ currentTargetì„ ì‚¬ìš©í•˜ëŠ” ê±´ ì´í•´ê°€ ë˜ëŠ”ë°â€¦ ì™œ targetì´ ì•ˆë˜ëŠ”ì§€ëŠ” ì˜â€¦ ì´í•´ë¥¼ ëª»í•˜ê² ì§€ë§Œ.. ì•„ë¬´íŠ¼ ì§€ì‹ì´ ëŠ˜ì—ˆë‹¤! (ë§í•  tsâ€¦.)

</aside>

```jsx
const obj: T = inputs.reduce((acc: T, crr: Element) => {
            const { name, value } = crr as HTMLInputElement;
            return { ...acc, [name]: value };
        }, {} as T);
```

ë‹¤ìŒìœ¼ë¡œ ì½”í…Œì—ì„œ ë§ì´ ì‚¬ìš©í•œ reduceí•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ìƒˆë¡œìš´ objë¥¼ ë§Œë“¤ì–´ ì£¼ì—ˆë‹¤.

inputì„ í•œê°œì”© ê°€ì ¸ì™€ì„œ input ì•ˆì—ìˆëŠ” nameê³¼ valueë¥¼ ê°€ì§€ê³  initialValuesì™€ ê°™ì€ íƒ€ì…ì˜ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ì£¼ì—ˆë‹¤.

ì´í›„ **setData()** ì— ë°˜í™˜ê°’ìœ¼ë¡œ ë„˜ê²¨ì£¼ì–´ dataë¥¼ ì €ì¥í•˜ê³  ëœë”ë§í•œë‹¤.

# ë§ˆì¹˜ë©°â€¦

---

ì´ë ‡ê²Œ ë‚˜ë§Œì˜ form ì»¤ìŠ¤í…€ í›…ì„ ë§Œë“¤ì–´ ë³´ì•˜ë‹¤..

ê³ ì§‘ë•Œë¬¸ì— ì‚½ì§ˆí•˜ë‹¤ê°€ tsì™€ ì ˆêµí•  ë»”í–ˆì§€ë§Œâ€¦ ë¬´ì‚¬íˆ ë„˜ì–´ê°”ë‹¤.

formì•ˆì— inputì„ ì œì–´í•˜ëŠ” ì½”ë“œë¥¼ onchangeë¥¼ ì´ìš©í•´ì„œ ë§Œë“¤ê¸¸ë˜ ë­”ê°€ë‚˜ëŠ” êµ³ì´? ì‹¶ì–´ì„œ ì´ëŸ°ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ ë´¤ë‹¤. _ë­”ê°€ onchangeë¥¼ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ì´ìœ ê°€ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ì„¸ì—¬â€¦._

ì—„ì²­ ëŒ€ë‹¨í•œ ê±´ ì•„ë‹ˆì§€ë§Œ ë­”ê°€ ì»¤ìŠ¤í…€ í›…ì„ ë§Œë“¤ì—ˆë‹¤ê³  ìƒê°í•˜ë‹ˆê¹Œ í°ì¼ì„ í•´ë‚¸ê±° ê°™ì•„ì„œ ê¸°ì˜ë‹¤!
